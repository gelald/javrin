# 系统调用函数

## recvfrom

Linux系统提供给用户用于接收网络IO的系统接口。从套接字上接收一个消息

如果此系统调用返回值<0，并且 errno为EWOULDBLOCK或EAGAIN（套接字已标记为非阻塞，而接收操作被阻塞或者接收超时 ）时，连接正常，**阻塞**接收数据（这很关键，前4种IO模型都设计此系统调用）

## select

系统调用允许程序同时在多个底层文件描述符上，等待输入的到达或输出的完成。以**数组**形式存储文件描述符，64位机器默认**2048**个。当有数据准备好时，无法感知具体是哪个流OK了，所以需要一个一个的遍历，函数的时间复杂度为**O(n)**

## poll

以**链表**形式存储文件描述符，没有长度限制。本质与select相同，函数的时间复杂度也为**O(n)**

## epoll

基于事件驱动的，如果某个流准备好了，会以事件通知，知道具体是哪个流，因此不需要遍历，函数的时间复杂度为**O(1)**。

## sigaction

用于设置对信号的处理方式，也可检验对某信号的预设处理方式。Linux使用**SIGIO信号**来实现IO异步通知机制

# 阻塞IO模型

不管是网络IO还是磁盘IO，对于读操作，都需要等待网络的某个数据分组到达后/准备好，**将数据拷贝到内核空间的缓冲区中，再从内核空间拷贝到用户空间的缓冲区**

![](https://gitee.com/ngyb/pic/raw/master/%E9%98%BB%E5%A1%9EIO%E6%A8%A1%E5%9E%8B.png)