# HTTP

## 概念

HTTP：超文本 传输 协议

- 协议
  - 协：两个以上的参与者
  - 议：行为约定和规范
- 传输：两点之间双向传输
- 超文本：不仅包括文本，还包括图片、视频、压缩包等

## 状态码

![](https://gitee.com/ngyb/pic/raw/master/HTTP%20Status.png)

- 1xx，1xx类状态码属于**提示信息**，是一种中间状态，还需要后续的操作
- 2xx，2xx类状态码表示服务器**成功处理**了客户端的请求
  - 200 - OK：成功状态码，只要不是HEAD请求，服务器返回的响应头都会**有body数据**
  - 204 - No Content：成功状态码，与200基本相同，但是响应头**没有body数据**
  - 206 - Partial Content：表示响应返回的**body数据只是资源的一部分**，应用于**分块下载**或**断点续传**
- 3xx，3xx类状态码表示客户端请求的资源**发生了变动**，需要客户端用新的URL重新发送请求获取资源，也就是**重定向**
  - 301 - Moved Permanently：**永久重定向**，说明请求的资源已经不存在，需要用新的URL再次访问
  - 302 - Moved Temporarily：**临时重定向**，请求的资源还在，但暂时需要用另一个URL来访问
  - 304 - Not Modified：**资源未修改**，重定向已存在的缓存文件
  - 301、302都会在响应头里使用字段`Location`，指明后续要跳转的URL，浏览器会自动重定向新的URL
- 4xx，4xx类状态码表示客户端发送的请求报文有误，服务器无法处理
  - 400 - Bad Request：客户端请求的报文有错误，但只是个**笼统的错误**，可能是请求的参数类型不对等
  - 401 - Unauthorized：客户端**没有访问权限**，需要进行身份认证
  - 403 - Forbidden：服务器**禁止访问资源**，并不是客户端的请求出错
  - 404 - Not Found：请求的**资源在服务器上不存在或未找到**
- 5xx，5xx类状态码表示客户端请求的报文正确，但是服务器处理时内部发生了错误，属于服务器端的错误码
  - 500 - Internal Server Error：服务端发生了错误，与400类似，是一个**笼统的错误**
  - 502 - Bad Gateway：通常是服务器**作为网关或代理时**返回的错误码，表示服务器自身工作正常，访问下游服务器发生了错误
  - 503 - Service Unavailable：表示服务器当前很忙，**暂时无法响应**服务器

## IP地址

### 形式

IP地址是**一个32位的二进制数**，通常被**分割成4个8位二进制数**（4个字节）；同时通常用**点分十进制的表示形式**（a.b.c.d）其中abcd都是0~255的十进制数

### 分类

![](https://gitee.com/ngyb/pic/raw/master/20201223232827.png)

![](https://gitee.com/ngyb/pic/raw/master/20210321210746.png)

#### A类

- (1.0.0.0-126.0.0.0)（默认子网掩码：255.0.0.0或 0xFF000000）
- 第一个字节为网络号，后三个字节为主机号
- **该类IP地址的最前面为“0”，所以地址的网络号取值于1~126之间**
- 私有区域：10.0.0.0-10.255.255.255
- 一般用于大型网络

#### B类

- (128.0.0.0-191.255.0.0)（默认子网掩码：255.255.0.0或0xFFFF0000）
- 前两个字节为网络号，后两个字节为主机号
- **该类IP地址的最前面为“10”，所以地址的网络号取值于128~191之间**
- 私有区域：172.16.0.0-172.31.255.255
- 一般用于中等规模网络

#### C类

- (192.0.0.0-223.255.255.0)（子网掩码：255.255.255.0或 0xFFFFFF00）
- 前三个字节为网络号，最后一个字节为主机号
- **该类IP地址的最前面为“110”，所以地址的网络号取值于192~223之间**
- 私有区域：192.168.0.0-192.168.255.255
- 一般用于小型网络

#### D类

- 多播地址
- **该类IP地址的最前面为“1110”，所以地址的网络号取值于224~239之间**
- 一般用于多路广播用户

#### E类

- 保留地址
- **该类IP地址的最前面为“1111”，所以地址的网络号取值于240~255之间**

#### 特殊IP地址

| 网络部分 | 主机部分 | 地址类型 | 用途               |
| -------- | -------- | -------- | ------------------ |
| Any      | 全0      | 网络地址 | 代表一个网段       |
| Any      | 全1      | 广播地址 | 特定网段的所有节点 |
| 127      | 0.1      | 环回地址 | 环回测试           |
| 全0      | 全0      | 所有网络 | 默认路由           |
| 全1      | 全1      | 广播地址 | 本网段所有节点     |

**每一个网段可用主机地址：假定这个网段的主机部分位数为n，那么可用的主机地址个数为2^n - 2个ip地址可用（除去网关地址、广播地址）**

#### 公有地址和私有地址

在A、B、C类地址中，划分了一部分作为私有IP地址，另一部分为公有IP地址。**公有IP它是由NIC（网络信息中心）或者ISP(网络服务提供商)分配的地址作为公网IP，私有IP地址是预留给各企业内部网自由支配的IP地址**，因特网分配编号委员会（IANA）保留了3块IP地址做为私有IP地址：

- A类：10.0.0.0-10.255.255.255
- B类：172.16.0.0-172.31.255.255
- C类：192.168.0.0-192.168.255.255


##### 私有地址不能直接访问互联网

公网上没有针对私有地址的路由，会产生地址冲突问题，当访问互联网时，需要利用网络地址转换（NAT，Network Address Translation）技术，把私有IP地址转换为互联网可识别的公共IP地址



## 子网掩码

网络设备使用子网掩码（subnet masking）决定IP地址中网络部分和主机部分

缺省状态下，如果没有进行子网划分，各类网络有默认的子网掩码

- A类网络：255.0.0.0，前8位为网络部分，后24位为主机部分
- B类网络：255.255.0.0，前16位为网络部分，后16位为主机部分
- C类网络：255.255.255.0，前24位为网络部分，后8位为主机部分

IP地址与子网掩码做`&`操作，得出网关地址

![](https://gitee.com/ngyb/pic/raw/master/20210329214138.png)

### 子网掩码另一种表示方式

![](https://gitee.com/ngyb/pic/raw/master/20210329214523.png)

### 无子网编址

不对网段进行细分，使用默认的子网掩码

#### 优点

外部将该网络看作单一网络，能减少路由表的项目

#### 缺点

没法区分一个大的网络内的不同的子网网段，使网络内的所有主机都能收到在该大网络内的广播，会降低网络的性能，也不利于管理主机。一个B类网络（172.16.0.0）可容纳65534个主机，没有一个单位能同时管理这么多主机，这时就需要将网络划分成不同的网段，对各个子网进行管理

### 带子网编址

从地址分配的角度看，子网是对网段地址的扩充。网络管理员根据组织的扩张来决定每一个子网的大小

利用子网，网络地址的使用会更为有效。对外，仍然是一个网络，对内，则分为不同子网

![](https://gitee.com/ngyb/pic/raw/master/20210329220722.png)



## TLS/SSL

### SSL

Secure Socket Layer，安全套接字层，位于可靠的面向连接的网络层协议和应用层协议之间的一种协议层。SSL通过互相认证、使用数字签名确保完整性、使用加密确保私密性，以实现客户端和服务器之间的安全通讯。该协议由两层组成：SSL记录协议和SSL握手协议。

### TLS

Transport Layer Security，传输层安全协议，用于两个应用程序之间提供保密性和数据完整性。该协议由两层组成：TLS记录协议和TLS握手协议。

### SSL与TLS的区别