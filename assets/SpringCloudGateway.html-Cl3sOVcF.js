import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as e,o as p}from"./app-BvnWu5Av.js";const r={};function s(i,t){return p(),n("div",null,[...t[0]||(t[0]=[e('<h2 id="微服务网关作用介绍" tabindex="-1"><a class="header-anchor" href="#微服务网关作用介绍"><span>微服务网关作用介绍</span></a></h2><p><strong>解决的问题</strong></p><p>认证、鉴权、安全、流量管控、缓存、服务路由、协议转换、服务编排、熔断、灰度发布、监控报警等</p><p><strong>特点</strong></p><p>公共服务、业务无关、第一流量入口</p><table><thead><tr><th>功能点</th><th>功能说明</th></tr></thead><tbody><tr><td>认证</td><td>支持4种认证方式，包括：Basic认证、JWT认证、微信小程序Token认证、NULL认证（放行）</td></tr><tr><td>鉴权</td><td>支持2中授权方式，包括：基于接入应用进行授权、NULL授权（放行）</td></tr><tr><td>流量管控</td><td>支持2种流程管理，包括：基于客户端应用进行流量管控，防止客户端恶意获取数据；基于API的流量管理，保护上流服务，支持多种时间纬度进行限流；支持本地和分布式限流</td></tr><tr><td>缓存</td><td>缓存API后端服务返回的数据，降低后端服务的压力</td></tr><tr><td>安全防护</td><td>客户端身份认证；只有授权的应用才能访问对应的API；公私钥算法保护API接口调用和数据传输安全；IP白名单、黑名单机制；防重放；通过组件二次开发可以扩展很多定制安全功能</td></tr><tr><td><strong>服务路由</strong></td><td>识别请求参数和路径转发上游API服务（流量分发）；服务地址伪装，可将内部服务伪装成一个不易识别的地址暴露到公网</td></tr><tr><td>日志记录</td><td>对API调用情况进行汇总记录，也支持配置第三方服务记录完整的API调用详细信息，方便自定义审计和统计</td></tr><tr><td>服务注册和暴露</td><td>支持HTTP Rest、WebService服务注册和暴露</td></tr><tr><td>协议转换</td><td>支持将WebService服务转换成Restful对外提供服务；引入脚本引擎，支持各类参数自定义转换；扩展协议转换组件，实现更多类型的服务接入平台</td></tr><tr><td>负载均衡</td><td>支持网关内部负载均衡，用户可以选择注册代理和服务实例地址，网关通过心跳检测机制自动探测服务实例的可用性</td></tr><tr><td>服务编排</td><td>提供WebIDE实现图形化的方式编辑服务流程；将各类异构服务以SOA的形式进行编排，替代原有ESB系统，更加高效</td></tr><tr><td>DB快速开发</td><td>对接各种数据源，无需应用快速生成新的API</td></tr></tbody></table><h2 id="网关种类划分" tabindex="-1"><a class="header-anchor" href="#网关种类划分"><span>网关种类划分</span></a></h2><h3 id="微服务网关" tabindex="-1"><a class="header-anchor" href="#微服务网关"><span>微服务网关</span></a></h3><p>快速构建基于微服务架构的应用系统，微服务网关是微服务架构的标准组件</p><h3 id="api网关" tabindex="-1"><a class="header-anchor" href="#api网关"><span>API网关</span></a></h3><ul><li><p><strong>微服务整合</strong></p><p>API网关可以封装微服务Rest API。通过这种方式，经API网关调用API，并由API网关统一身份验证和监视。此外，API网关还可以控制外部公开的API来降低安全风险</p></li><li><p><strong>多端统一</strong></p><p>API网关允许使用一组后端服务来服务各种终端；通过协议的自适应和转换，可以满足不同终端对不同协议的要求；<strong>此外，还可以分别授权不同的终端，可以避免调整或配置后端服务</strong></p></li><li><p><strong>业务整合</strong></p><p>API网关可以统一业务的子模块API。其聚合服务帮助开发者专注于业务的迭代，而不是潜在的资源与能力，提高了整体的工作效率</p></li></ul><h3 id="准入网关" tabindex="-1"><a class="header-anchor" href="#准入网关"><span>准入网关</span></a></h3><ul><li><p><strong>访问准入控制</strong></p><p>访问时需要经过准入网关严格的审核，只有合法的计算机才能连入访问，非法计算机可根据需要将其引导至<strong>隔离区</strong>进行修复，或者完全阻断其访问</p></li><li><p><strong>安全合规检查</strong></p><p>安全状态合规检查，满足条件则允许接入网络，否则拒绝访问并发出警告提示，并强制其跳转至隔离区进行相关修复</p></li><li><p><strong>账号登录</strong></p><p>临时来访的外来计算机，因工作需要接入企业内部网络时，可以设定访客账号，通过浏览器输入账号密码进行身份认证，通过后方可连接网络</p></li><li><p><strong>脱离管控</strong></p><p>准入网关可以有效防止内部计算机通过重装系统、安装多系统、虚拟机等方式脱离管控，保证内网安全策略可以有效的执行</p></li></ul><h3 id="接入网关" tabindex="-1"><a class="header-anchor" href="#接入网关"><span>接入网关</span></a></h3><ul><li><p><strong>多链路</strong></p><p>支持宽带WAN、4G和专线多个链路上云</p></li><li><p><strong>路由方式</strong></p><p>静态路由、BGP动态路由和OSPF动态路由</p></li><li><p><strong>服务质量QoS</strong></p><p>划分不同业务的流量带宽，保证高优先级的流量带宽</p></li><li><p><strong>网络地址转换NAT</strong></p><p>隐藏内部网络地址，解决私网地址冲突，提高网络安全性</p></li><li><p><strong>访问控制</strong></p><p>针对不同的智能接入网络实例设置访问白名单或黑名单</p></li><li><p><strong>流日志</strong></p><p>记录智能接入网关的传入和传出流量信息</p></li><li><p><strong>健康检查</strong></p><p>健康检查接入网关设备可发送探测报文检测目的连通性</p></li></ul><h2 id="微服务网关画像与架构" tabindex="-1"><a class="header-anchor" href="#微服务网关画像与架构"><span>微服务网关画像与架构</span></a></h2><h3 id="zuul-网关画像" tabindex="-1"><a class="header-anchor" href="#zuul-网关画像"><span>Zuul 网关画像</span></a></h3><h4 id="架构" tabindex="-1"><a class="header-anchor" href="#架构"><span>架构</span></a></h4><p><img src="https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/zuul架构.png" alt=""></p><ul><li><p>Zuul Servlet负责接入请求</p></li><li><p>Groovy Filter 过滤器</p></li><li><p>责任链模式（过滤器/拦截器）</p></li><li><p>Pre routing filters 前置路由：鉴权、限流、黑名单</p></li><li><p>Routing filters 路由：服务路由等</p></li><li><p>Post routing filters 后置路由：加密响应等</p></li><li><p>RequestContext 请求上下文 把数据携带到业务服务中</p></li></ul><h4 id="过滤器生命周期" tabindex="-1"><a class="header-anchor" href="#过滤器生命周期"><span>过滤器生命周期</span></a></h4><p><img src="https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/过滤器生命周期.png" alt=""></p><ul><li><p>可以自定义前置过滤器，设置各种过滤条件</p></li><li><p>可以自定义后置过滤器，处理响应</p></li></ul><h3 id="gateway-网关画像" tabindex="-1"><a class="header-anchor" href="#gateway-网关画像"><span>Gateway 网关画像</span></a></h3><h4 id="架构-1" tabindex="-1"><a class="header-anchor" href="#架构-1"><span>架构</span></a></h4><p><img src="https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/Gateway架构.png" alt=""></p><ul><li><p>Proxy Filter 代理过滤器就是路由过滤器 负责路由到对应的服务</p></li><li><p>和Zuul相比的优势，过滤条件更加灵活，过滤器分为全局过滤器和非全局过滤器，<strong>能为每一个请求设定断言、过滤器</strong></p></li></ul>',27)])])}const g=a(r,[["render",s]]),d=JSON.parse('{"path":"/writings/SpringCloud/SpringCloudGateway.html","title":"","lang":"zh-CN","frontmatter":{"description":"微服务网关作用介绍 解决的问题 认证、鉴权、安全、流量管控、缓存、服务路由、协议转换、服务编排、熔断、灰度发布、监控报警等 特点 公共服务、业务无关、第一流量入口 网关种类划分 微服务网关 快速构建基于微服务架构的应用系统，微服务网关是微服务架构的标准组件 API网关 微服务整合 API网关可以封装微服务Rest API。通过这种方式，经API网关调用...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/zuul%E6%9E%B6%E6%9E%84.png\\",\\"https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/%E8%BF%87%E6%BB%A4%E5%99%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png\\",\\"https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/Gateway%E6%9E%B6%E6%9E%84.png\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"gelald\\",\\"url\\":\\"https://github.com/gelald\\"}]}"],["meta",{"property":"og:url","content":"https://gelald.github.io/javrin/javrin/writings/SpringCloud/SpringCloudGateway.html"}],["meta",{"property":"og:site_name","content":"Javrin"}],["meta",{"property":"og:description","content":"微服务网关作用介绍 解决的问题 认证、鉴权、安全、流量管控、缓存、服务路由、协议转换、服务编排、熔断、灰度发布、监控报警等 特点 公共服务、业务无关、第一流量入口 网关种类划分 微服务网关 快速构建基于微服务架构的应用系统，微服务网关是微服务架构的标准组件 API网关 微服务整合 API网关可以封装微服务Rest API。通过这种方式，经API网关调用..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://wingbun-notes-image.oss-cn-guangzhou.aliyuncs.com/images/zuul%E6%9E%B6%E6%9E%84.png"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"git":{},"readingTime":{"minutes":5.11,"words":1532},"filePathRelative":"writings/SpringCloud/SpringCloudGateway.md","autoDesc":true}');export{g as comp,d as data};
