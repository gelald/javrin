# MySQL 数据类型

MySQL 中主要包含 5 大类的数据类型，分别是整数型、小数型、字符串型、日期型、其他

## 整数类型

> 显示宽度和数据类型的取值范围是无关的。显示宽度只是指明 MySQL 最大可能显示的数字个数，并且需要启用填充零的选项才有效，数值的位数小于指定的宽度时会由0填充。如果插入了大于显示宽度的值，只要该值不超过该类型整数的取值范围，数值依然可以插入，而且能够显示出来。例如，year 字段插入 19999，当使用 SELECT 查询该列值的时候，MySQL 显示的将是完整的带有 5 位数字的 19999，而不是 4 位数字的值

- tinyint，1个字节，-128~127(有符号)、0~255(无符号)

  > **Java中Boolean类型变量可以用tinyint类型的字段**，MySQL里有四个常量：true、false、TRUE、FALSE分别代表1、0、1、0。MySQL保存boolean值时用1代表TRUE，0代表FALSE

- smallint，2个字节

- mediumint，3个字节

- int，4个字节

- bigint，8个字节



## 小数类型

> 浮点类型和定点类型都可以用`(M, D)`来表示，其中`M`称为精度，表示总共的位数；`D`称为标度，表示小数的位数。
>
> 浮点数类型的取值范围为 M（1～255）和 D（1～30，且不能大于 M-2），分别表示显示宽度和小数位数。M 和 D 在 FLOAT 和DOUBLE 中是可选的，FLOAT 和 DOUBLE 类型将默认会按照实际的精度（由计算机硬件和操作系统决定）。**DECIMAL 的默认 D 值为 0、M 值为 10**。
>
> 不论是定点还是浮点类型，如果用户指定的精度**超出精度范围，则会四舍五入进行处理**。

- 浮点类型

  - float，单精度，4个字节
  - double，双精度，8个字节

- 定点类型

  - decimal，M+2个字节

    > 在 MySQL 中，定点数以字符串形式存储，在对精度要求比较高的时候（如货币、科学数据），使用 DECIMAL 的类型比较好，另外两个浮点数进行减法和比较运算时也容易出问题，所以在使用浮点数时需要注意，并尽量**避免做浮点数比较**



## 日期类型

- year，格式`yyyy`，范围`1901~2155`，1个字节。可以接受整型和字符串，所以程序中记录年份时可以使用字符串
- time，格式`HH:mm:ss`，范围`-838:59:59 ~ 838:59:59`，3个字节
- date，格式`yyyy-MM-dd`，范围`1000-01-01 ~ 9999-12-3`，3个字节
- datetime，格式`yyyy-MM-dd HH:mm:ss`，范围`1000-01-01 00:00:00 ~ 9999-12-31 23:59:59`，8个字节
- timestamp，格式`yyyy-MM-dd HH:mm:ss`，范围`1980-01-01 00:00:01 UTC ~ 2040-01-19 03:14:07 UTC`，4个字节。如果不给这个字段赋值，或者赋值为null，那么默认使用系统当前时间来自动赋值
- datetime和timestamp的区别
  - **存储方式不一样**，timestamp存储时从客户端时区转换成UTC进行存储，查询时从UTC转换到客户端时区返回；datetime不转换，原样存储和读取
  - **时间范围不一样**，timestamp存储的范围为1970-01-01～ 2038-01-19；datetime存储的范围为1000-01-01 ～ 9999-12-31



## 字符串类型

> 字符串类型可以在定义时使用M来指定长度

- char(M)，固定长度字符串，M个字节

- varchar(M)，可变长度字符串，当实际存储的长度L小于M，则需要L+1个字节；当实际存储的长度等于M，则需要M+1个字节

- enum，一个字符串对象，值为表创建时列规定中枚举的一列值，语法`<字段名> ENUM( '值1', '值1', …, '值n' )`，从 1 开始编号。依照列索引顺序排列，并且空字符串排在非空字符串前，NULL 值排在其他所有枚举值前。ENUM 列总有一个默认值。如果将 ENUM 列声明为 NULL，NULL 值则为该列的一个有效值，并且默认值为 NULL。如果 ENUM 列被声明为 NOT NULL，其默认值为允许的值列表的第 1 个元素

  例子：定义enum类型的列('first', 'second', 'third')，值与索引的对应关系如下：

  | 索引 |    值    |
  | :--: | :------: |
  | null |   null   |
  |  0   |    ""    |
  |  1   | "first"  |
  |  2   | "second" |
  |  3   | "third"  |

- set，一个字符串的对象，可以有零或多个值，值为表创建时规定的一列值，语法`SET( '值1', '值2', …, '值n' )`，MySQL会自动删除重复值

- 大文本，适合保存文章、评论等

  - tinytext，长度为255，L+1个字节
  - text，长度为65535，L+2个字节
  - mediumtext，长度为16777215，L+3个字节
  - longtext，长度为4294967295，L+4个字节



## 其他类型

> 二进制类型可以在定义时使用M来指定长度

- text，文本类型，一般用来存储文本，最大长度65535字节
- bit(M)，以**二进制的形式**保存，M 表示每个值的位数，范围为 1～64。如果 M 被省略，默认值为 1，大约(M+7)/8个字节
- binary(M)，固定长度的二进制字符串，M个字节
- varbinary(M)，可变长度的二进制字符串，M+1个字节
- 二进制对象
  - tinyblob，255个字节
  - blob，65535个字节
  - mediumblob，16777215个字节
  - longblob，4294967295个字节

