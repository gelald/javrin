# TreeMap & TreeSet

## 概述

把 TreeSet 和 TreeMap 放在一起讲解，是因为二者在 Java 里有着相同的实现，前者仅仅是对后者做了一层包装，也就是说 TreeSet 里面有一个 TreeMap，体现了适配器模式。

Java 中的 TreeMap 实现了 SortedMap 接口，也就是说会按照 `key` 的大小顺序对元素进行排序，`key` 大小的判断可以通过其类型本身的自然顺序，也可以通过构造时传入的比较器。



## 前置知识

### 红黑树

TreeMap 底层是通过红黑树实现的，在此之前我们需要先简单了解一下红黑树

红黑树结构：

![](https://gitee.com/ngwingbun/picgo-image/raw/master/images/20220314223432.png)

红黑树是一种近似平衡的二叉查找树，它能够确保任何一个节点的左右子树的高度差不会超过二者中较低那个的一倍

红黑树是满足以下条件的二叉树：

1. 每个节点的颜色要么红色要么黑色
2. 根结点必然是黑色的
3. 不允许有连续红色的节点
4. 对于每一个节点，从该节点到树尾端的任何路径都包含相同的黑色节点数